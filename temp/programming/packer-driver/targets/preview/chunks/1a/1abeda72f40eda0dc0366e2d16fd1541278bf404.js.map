{"version":3,"sources":["file:///F:/Lap%20Trinh%20Game/simple-games/assets/simple-run/scripts/CameraFollow.ts"],"names":["_decorator","Component","Node","CCFloat","Vec3","ccclass","property","v3_a","v3_b","CameraFollow","type","start","lateUpdate","deltaTime","target","getWorldPosition","add","offset","lerp","node","position","smoothSpeed","setWorldPosition","lookAtOffset","lookAt"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,O,OAAAA,O;AAASC,MAAAA,I,OAAAA,I;;;;;;;;;OACzC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;AAE1BO,MAAAA,I,GAAO,IAAIH,IAAJ,E;AACPI,MAAAA,I,GAAO,IAAIJ,IAAJ,E;;8BAGEK,Y,WADZJ,OAAO,CAAC,cAAD,C,UASHC,QAAQ,CAAC;AAACI,QAAAA,IAAI,EAAER;AAAP,OAAD,C,UAERI,QAAQ,CAAC;AAACI,QAAAA,IAAI,EAAEP;AAAP,OAAD,C,UAERG,QAAQ,CAACF,IAAD,C,UAERE,QAAQ,CAACF,IAAD,C,2BAfb,MACaK,YADb,SACkCR,SADlC,CAC4C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAeA;AAExCU,QAAAA,KAAK,GAAI,CACL;AACH;;AAEDC,QAAAA,UAAU,CAAEC,SAAF,EAAqB;AAC3B;AACA,eAAKC,MAAL,CAAYC,gBAAZ,CAA6BR,IAA7B;AACAH,UAAAA,IAAI,CAACY,GAAL,CAASR,IAAT,EAAeD,IAAf,EAAqB,KAAKU,MAA1B;AACAb,UAAAA,IAAI,CAACc,IAAL,CAAUV,IAAV,EAAgB,KAAKW,IAAL,CAAUC,QAA1B,EAAoCZ,IAApC,EAA0C,KAAKa,WAA/C;AACA,eAAKF,IAAL,CAAUG,gBAAV,CAA2Bd,IAA3B;AAEAJ,UAAAA,IAAI,CAACY,GAAL,CAAST,IAAT,EAAeA,IAAf,EAAqB,KAAKgB,YAA1B;AACA,eAAKJ,IAAL,CAAUK,MAAV,CAAiBjB,IAAjB;AACH;;AA9BuC,O;;;;;iBASlB,I;;;;;;;iBAEO,K;;;;;;;iBAEP,IAAIH,IAAJ,E;;;;;;;iBAEM,IAAIA,IAAJ,E","sourcesContent":["import { _decorator, Component, Node, CCFloat, Vec3 } from \"cc\";\r\nconst { ccclass, property } = _decorator;\r\n\r\nlet v3_a = new Vec3();\r\nlet v3_b = new Vec3();\r\n\r\n@ccclass(\"CameraFollow\")\r\nexport class CameraFollow extends Component {\r\n    /* class member could be defined like this */\r\n    // dummy = '';\r\n\r\n    /* use `property` decorator if your want the member to be serializable */\r\n    // @property\r\n    // serializableDummy = 0;\r\n\r\n    @property({type: Node})\r\n    public target: Node = null;\r\n    @property({type: CCFloat})\r\n    public smoothSpeed: number = 0.125;\r\n    @property(Vec3)\r\n    public offset: Vec3 = new Vec3(); //tâm đặt camera\r\n    @property(Vec3)\r\n    public lookAtOffset: Vec3 = new Vec3(); //điểm nhìn camera\r\n\r\n    start () {\r\n        // Your initialization goes here.\r\n    }\r\n\r\n    lateUpdate (deltaTime: number) {\r\n        // Your update function goes here.\r\n        this.target.getWorldPosition(v3_a);\r\n        Vec3.add(v3_b, v3_a, this.offset);\r\n        Vec3.lerp(v3_b, this.node.position, v3_b, this.smoothSpeed);\r\n        this.node.setWorldPosition(v3_b);\r\n\r\n        Vec3.add(v3_a, v3_a, this.lookAtOffset);\r\n        this.node.lookAt(v3_a);\r\n    }\r\n}"]}